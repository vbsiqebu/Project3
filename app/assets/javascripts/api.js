/*
  SpeedOf.Me, HTML5 Speed Test
  http://speedof.me - contact@speedof.me
  All rights reserved. Copyright (c) SPEED OF ME, 2011-2013 
  
  api.js - based on Ver 2.4
  To be embeded in API consumer page
*/
eval((function(S1){for(var n1="",I1=0,q1=function(S1,N1){for(var s1=0,c1=0;c1<N1;c1++){s1*=96;var w1=S1.charCodeAt(c1);if(w1>=32&&w1<=127){s1+=w1-32;}}return s1;};I1<S1.length;){if(S1.charAt(I1)!="`")n1+=S1.charAt(I1++);else{if(S1.charAt(I1+1)!="`"){var O1=q1(S1.charAt(I1+3),1)+5;n1+=n1.substr(n1.length-q1(S1.substr(I1+1,2),2)-O1,O1);I1+=4;}else{n1+="`";I1+=2;}}}return n1;})("var D2=(function(){var x2=(55>(0xBA,0x234)?130.6E1:(48,131.8E1)>=(0xBF,36.80E1)?(18,0x142AB3D7180):(141.4E1,143.)),e1=(function(J1,F1){var U1=\"\",l1=((143.,0xED)>0xD9?(13.280E2,false):(1.,4.89E2)<(0x1CA,0xC5)?54:(35.30E1,0xCE));if(J1.length>((149.9E1,110` V!B1,67.)?\'D\':(0x173,0x149)>(0x10D,15.)?(0x1DF,12):(0x7A,100)))for(var a1=((0x195,8)<(6.68E2,14.11E2)?(84.7E1,13` Z FB,0x13));a1>((5.600E2,0x250)>=(110.,12.17E2)?16.:91.10E1<=(4,10.6` 4 (13.86E2,1):(0xE,6.55E2)<0x17B?(88.,\'I\'):(79.,50));)U1+=(l1=(l1?((0x2B,68.8E1)>(130,0x1CD)?(0x24B,false):(67.,79.30E1)):((2.64E2,2.59E2)>0x16D?(126.80E1,111):42.<=(43,0x49)?(56.,true):(0x27,0x132))))?J1.charAt(a1):\"@%)eitg)(tDwn\"` 1%--);return F1===(63.2E1>=(0x25,81.)?(0x14C,null):(13.,36.30E1))?eval(U1):F1^J1}\n)(\"_9(mTe.)ea e(\",((1.449E3,0x20A)<=(50.90E1,129.0E1)?(137,null):(13.76E2,22)>(0xF0,69.5` A 7.47E2,\'f\'):(0x225,0x215)));return {k1:function(H1){var h1,d1=((138,0x14E)<0x1F7?(59.,0):(1.79E2,0x98)>0x24A?29.:(105,116)),C1=x2>e1,P1;for(;d1<H1.length;d1++){P1=(parseInt(H1.charAt(d1),16)).toString(2);h1=d1==0?P` ?$P1.length-1):h1^` $1}\nreturn h1?C1:!C1}\n}\n;}\n)();var t2=D2.k1(\"b6d\")?\"key\":window;for(var g2 in t2){if(g2.length==8&&g2.charCodeAt(5)==101` \'+7)==116` >+(10.>(134.,0x1EB)?true:0xD6<(118.10E1,0x210)?(96.,3):(0x124,58)))==117&&g2.charCodeAt(0)==100)break};for(var Z2 in t2){if(Z2.length==6&&Z` S(3` Z!` \'+5)==119` >+1` I 5` >+0` H!)break};var y=D2.k1(\"afa6\")?{\'o\':{}\n,\'p2\':\"DOMContentLoaded\",\'q2\':\"testResult\",\'T2\':\"addEventListener\",\'r\':\"\",\'r2\':\"value\",\'N2\':\"message\",\'A\':\'http:\/\/speedof.me\/api\/\',\'u\':false,\'F2\':\"_onError\",\'i2\':4,\'B\':\'function\',\'W\':\"origin\"}\n:\"DOMContentLoaded\";` D# addLoadEvent(U){var l=D2.k1(\"83d4\")?\"key\":\"onload\",k` 7#ebb\")?\"\":t2[Z2][l];if(typeof ` +$!=y.B){var i` R#d2\")?function(F){` E$` :#f584\")?\"onError\":F;}\n:\"iframe\";i(U);}\nelse` J-2c\")?true:function(){if(k){k();}\nU();}\n;}\n}\n` :# createCoreIframe(){var k=D2.k1(\"a36d\")?\"code\":\"appendChild\",i` =#65e\")?\"body\":\"user\",H` 4$2b\")?\"none\":\"createElement\",h` >#24\")?\"SomApi\":\"core.html\",N` ;#eb` ? src\":\"style\",s` X#b3c7` 9 omcoreiframe\":\"err\",w` >#381b\")?\"id\":\"usr\",n` 3#dac` [ etAttribute\":\"apiUrl\",O` ?#e3c4\")?\"iframe\":\"onTestCompleted\",C` C#b7f\")?\"createElement\":\"user\",b` >#ab\")?function(F){var U` 6#388\")?\"display\":\"message\";var l` ?#b7d1\")?\"testResult\":\"style\";P[l][U]` C#2bf7\")?F:\"source\";}\n:false,P` <#a1d3\")?t2[g2][C](O):\": \";P[n](w,s)` $!N,apiUrl+h);b(H);` K\"i][k](P);}\nfunction receiveMessage(U){var l=D2.k1(\"82\")?\"` 7)\":\"error\",k=\"z\",i=\"_onTestCompleted\",H=\"download\",h=\"p\",N=true,s=\"somcoreiframeLoaded\",w=\"c\",n=D2.k1(\"1a65\")?\"domainName\":\"notification\",O=\"q\",C` J#a7f2\")?\"_onTestCompleted\":\"key\",b=\"http:\/\/speedof.me\",P=\"S\";if(e[P](U[y.W],b)){var a=D2.k1(\"2c55\")?\"err\":U.data;if(!a[C])return ;if(e[O](a[C],n)&&e[w](a[y.r2],s)){var Y=D2.k1(\"a1c\")?function(F){_somcoreiframeLoaded=F;}\n:\"userdata=\",I=` F)rcMsgEvent=D2.k1(\"a7\")?F:\"SomApi\";}\n;Y(N);I(U);}\nelse if(e[h](a[C],y.q2)&&a[y.r2][H]){` V![i](` \/\"` L)k` S\"l` M%` K$y.F2` J(}\n}\nvar e=D2.k1(\"ed\")?{\'S\':function(F,U){return F==U;}\n,\'c\'` \":d\'` \":p\'` \":z\'` \":q\'` \":J\':{}\n}\n:\'\/\/\',_somcoreiframeLoaded=y.u,_srcMsgEvent,apiUrl=y.A,SomApi=D2.k1(\"a1\")?{account:y.r,domainName` * startTest:function(){var G=D2.k1(\"856\")?\"config\":\"message\",V` :#311\")?\"href\":\"_srcMsgEvent\",v=\'\/\/\',j` D#d5e8\")?\"key\":\"protocol\",E=\"location\",R` F#f65b\")?\"domainName\":\"` \"&,X` B#c56a\")?\"account\":\"source\";if(_somcoreiframeLoaded&&_srcMsgEvent){var m=D2.k1(\"d62\")?{account:this[X],domainName` -!R],uri:t2[g2][E][j]+v+` 3#src:t2[Z` 5!V]}\n:\"message\";(function(F,U){var l=D2.k1(\"6b\")?\"source\":\"createCoreIframe\",k` B#57b\")?1000:\"command\",i` 6#e4c\")?\"appendChild\":((49.2E1,85.)>=(80,0)?(32.,\"d\"):0x20F<=(0x88,63.)?93.30E1:(58,0x140)),H=D2.k1(\"6c\")?\"body\":\"responseText\",h` ;$7` @ parse\":\"style\",N=\"send\",s=\'application\/x-www-form-urlencoded\',w=\'Content-Type\',n=D2.k1(\"d7f6\")?\"setRequestHeader\":\"window\",O=\'userdata.php\',C` U#33\")?\"msg\":\"POST\",b=\"open\",P` <#5bb\")?\"stringify\":\"_srcMsgEvent\",a=\"userdata=\",Y=a+(JSON[P](m)),I=D2.k1(\"84d7\")?\"parse\":new XMLHttpRequest();I[b](C,apiUrl+O,y.u);I[n](w,s);I[N](Y);var M=D2.k1(\"8174\")?\"config\":JSON[h](I[H]);if(e[i](M[y.r2],k)){_srcMsgEvent[l].postMessage({key:\"userData\",value:{user:m,config:F}\n}\n,_srcMsgEvent[y.W]);` &(l].postMessage({key:\"command\",value:\"startTest\"}\n,` R(y.W]);}\nelse{U({code:M[y.r2],messag` \'$}\n);}\n}\n)(this[G],` # y.F2]` 4!,_onTestCompleted:function(F){var U=\"` 4*\";this[y.q2]=F;if(typeof ` 2 U]==y.B)` &\"(` B%);}\n,_onError:function(F){var U=\"` 4\"\",l=\": \",k=\"code\",i=D2.k1(\"5b\")?\"setRequestHeader\":\"SOM` W  \",H=\"log\",h` M#ad\")?\"console\":\"_on` G \";this.error=F;if(t2[Z2][h]&&` \"$[H])` U\"[H](i+F[k]+l+F[y.N2])` S ypeof this[U]==y.B)` &\"(this.error);}\n,config:{sustainTime:y.i2}\n}\n:\"http:\/\/speedof.me\";t2[Z2][y.T2](y.N2,receiveMessage,y.u);t2[g` ;&p2,function(F){createCoreIframe();}\n)"));